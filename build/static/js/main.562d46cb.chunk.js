(this["webpackJsonpprojekt-10"]=this["webpackJsonpprojekt-10"]||[]).push([[0],{54:function(e,a,t){e.exports=t.p+"static/media/tech.405635f5.jpeg"},58:function(e,a,t){e.exports=t(72)},68:function(e,a,t){},72:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),r=t(7),l=t.n(r),o=t(12),i=t(13),c=t(15),u=t(16),p=t(55),m=t(23),d=t(18),h=t(78),y=t(77),g=t(74),f=function(e){e.closePopup;var a=e.handleSubmit,t=e.props,n=e.children;return s.a.createElement("div",{id:"bg-modal"},s.a.createElement(y.a.Dialog,null,s.a.createElement(y.a.Header,null,s.a.createElement(y.a.Title,null,t.title)),s.a.createElement(y.a.Body,null,n),s.a.createElement(y.a.Footer,null,s.a.createElement(g.a,{variant:"primary",onClick:a},t.button))))},b=function(e){Object(u.a)(t,e);var a=Object(c.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=a.call.apply(a,[this].concat(s))).state={message:""},e.closePopup=function(a){l.a.findDOMNode(Object(d.a)(e)).querySelector("#bg-modal").style.display="none"},e.handlechange=function(a){e.setState({message:a.target.value})},e.handleSubmit=function(a){console.log(sessionStorage.getItem("session"));var t={display:e.props.match.params.selectedDisplay,message:e.state.message,session:sessionStorage.getItem("session")};fetch("https://iot-display.herokuapp.com/message/set",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){window.location.reload()})).catch((function(e){return console.error("error",e)}))},e}return Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(f,{closePopup:this.closePopup,handleSubmit:this.handleSubmit,props:{title:"message",body:"enter the message",button:"send message"}},s.a.createElement(h.a.Group,{controlId:"exampleForm.ControlTextarea1"},s.a.createElement(h.a.Label,null,"Enter the message here"),s.a.createElement(h.a.Control,{as:"textarea",rows:"3",onChange:this.handlechange}))))}}]),t}(n.Component),v=t(75),E=function(e){Object(u.a)(t,e);var a=Object(c.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=a.call.apply(a,[this].concat(s))).state={},e}return Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement(v.a,null,s.a.createElement("h2",null,"About"),s.a.createElement("p",null,"Lorem ipsum dolor sit amet, morbi facilisis elit euismod taciti, mollis lectus mi lobortis feugiat torquent lacus, curabitur et nunc, nec integer ornare. Lorem in nulla at eleifend orci, ultrices nam turpis pellentesque eros suspendisse lectus, sed lorem elit ut ipsum imperdiet vestibulum. In integer sed aliquam dui, molestie suspendisse eleifend. Quis nulla blandit ante, sem consequat dictum nec massa mauris inceptos, maecenas mauris tempus nulla sed lacus id. Officia nibh ligula lectus est diam, fusce praesent libero eleifend, magnis rutrum, pretium amet tellus. Cursus libero nisl praesent orci cursus. Sed et, in dolores. Erat libero. Tortor suspendisse in convallis orci wisi nunc, turpis faucibus blandit ac vitae donec quisque, at suscipit nonummy nascetur, aliquam porttitor nullam ac massa vulputate, aspernatur a sit in."))}}]),t}(n.Component),C=function(e){Object(u.a)(t,e);var a=Object(c.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=a.call.apply(a,[this].concat(s))).state={selectedDisplay:"",displayName:"",displays:[],session:e.props.match.params.session},e.handlechange=function(a){e.setState({selectedDisplay:a.target.children[a.target.selectedIndex].id}),sessionStorage.setItem("display",e.state.selectedDisplay)},e.handleDispNameChange=function(a){e.setState({displayName:a.target.value})},e.handleSubmit=function(a){e.props.history.push("/message/".concat(e.state.selectedDisplay))},e.displayPopup=function(a){a.preventDefault(),l.a.findDOMNode(Object(d.a)(e)).querySelector(".bg-modal").style.display="flex"},e.createDisplay=function(a){a.preventDefault();var t={name:e.state.displayName,session:e.props.match.params.session};fetch("https://iot-display.herokuapp.com/display/new",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(a){e.closePopup(),window.location.reload(),console.log(a)})).catch((function(e){alert("username already taken try again"),console.error("error",e)}))},e.closePopup=function(a){l.a.findDOMNode(Object(d.a)(e)).querySelector(".bg-modal").style.display="none"},e}return Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;sessionStorage.setItem("session",this.state.session);var a={session:this.state.session};fetch("https://iot-display.herokuapp.com/display/get/all",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(a){console.log(a.displays),e.setState({displays:a.displays}),a.displays.length>0&&(e.setState({selectedDisplay:a.displays[0]._id}),sessionStorage.setItem("display",e.state.selectedDisplay))})).catch((function(e){console.error("error",e)}))}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(v.a,null,s.a.createElement(h.a,null,s.a.createElement(h.a.Group,{controlId:"exampleForm.ControlSelect1"},s.a.createElement(h.a.Label,null,"Select your display"),s.a.createElement(h.a.Control,{as:"select",onChange:this.handlechange},this.state.displays.length>0?this.state.displays.map((function(e){return s.a.createElement("option",{id:e._id,key:e._id},e.name)})):s.a.createElement("option",null,"no display")))),s.a.createElement(g.a,{className:"btn",onClick:this.handleSubmit,variant:"primary"},"select"),s.a.createElement(g.a,{onClick:this.displayPopup,variant:"primary"},"create new display"),s.a.createElement("div",{className:"bg-modal"},s.a.createElement("div",{className:"modal-pop-up"},s.a.createElement("div",{className:"close",onClick:this.closePopup},"+"),s.a.createElement("form",{className:"username"},s.a.createElement("input",{onChange:this.handleDispNameChange,value:this.state.displayName,placeholder:"enter name...",type:"text"}),s.a.createElement("button",{onClick:this.createDisplay,className:"tbtn"},"create"))))))}}]),t}(n.Component),O=t(36),S=t(80),j=t(79),k=t(37);function N(){var e=Object(O.a)(["\n    .navbar {\n        background-color : #233;\n    }\n    .navbar-brand, .navbar-nav .nav-link {\n        color: #bbb;\n\n        &:hover {\n            color: white;\n        }\n    }\n"]);return N=function(){return e},e}var w=k.a.div(N()),D=function(){return s.a.createElement(w,null,s.a.createElement(S.a,{expand:"lg"},s.a.createElement(S.a.Brand,{href:"/"},"Door Display"),s.a.createElement(S.a.Toggle,{"aria-controls":"basic-navbar-nav"}),s.a.createElement(S.a.Collapse,{id:"basic-navbar-nav"},s.a.createElement(j.a,{className:"ml-auto"},s.a.createElement(j.a.Item,null,s.a.createElement(j.a.Link,{href:"/home/".concat(sessionStorage.getItem("session"))},"Home")),s.a.createElement(j.a.Item,null,s.a.createElement(j.a.Link,{href:"/message/".concat(sessionStorage.getItem("display"))},"Message")),s.a.createElement(j.a.Item,null,s.a.createElement(j.a.Link,{href:"/about"},"About"))))))},P=t(76),x=t(54),I=t.n(x);function T(){var e=Object(O.a)(["\n    .jumbo {\n        background: url(",") no-repeat fixed bottom;\n        background-size: cover;\n        color:#ccc;\n        height: 200px;\n        position: relative;\n        z-index: -2;\n    }\n\n    .overlay{\n        background-color: #000;\n        opacity: 0.6;\n        position: absolute;\n        top:0;\n        right:0;\n        bottom: 0;\n        left: 0;\n        z-index: -1;\n\n    }\n"]);return T=function(){return e},e}var q=k.a.div(T(),I.a),L=function(){return s.a.createElement(q,null,s.a.createElement(P.a,{fluid:!0,className:"jumbo"},s.a.createElement("div",{className:"overlay"}),s.a.createElement(v.a,null,s.a.createElement("h1",null,"Welcome"),s.a.createElement("p",null,"Here you can send message to all your displays"))))},A=function(e){var a=e.username,t=e.password,n=e.closePopup,r=e.handleUsernameChange,l=e.handlePasswordChange,o=e.signupHandlar;return s.a.createElement("div",{className:"bg-modal"},s.a.createElement("div",{className:"modal-pop-up"},s.a.createElement("div",{className:"close",onClick:n},"+"),s.a.createElement("form",{className:"username",onSubmit:o},s.a.createElement("input",{onChange:r,value:a,placeholder:"username...",type:"text"}),s.a.createElement("input",{onChange:l,value:t,placeholder:"passowrd...",type:"password"}),s.a.createElement("button",{className:"tbtn",onClick:o},"Sign Up"))))},H=(t(68),function(e){Object(u.a)(t,e);var a=Object(c.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=a.call.apply(a,[this].concat(s))).state={username:"",password:"",sesseion:""},e.handleUsernameChange=function(a){e.setState({username:a.target.value})},e.handlePasswordChange=function(a){e.setState({password:a.target.value})},e.displayPopup=function(a){a.preventDefault(),l.a.findDOMNode(Object(d.a)(e)).querySelector(".bg-modal").style.display="flex"},e.closePopup=function(a){l.a.findDOMNode(Object(d.a)(e)).querySelector(".bg-modal").style.display="none"},e.handleLogin=function(a){a.preventDefault();var t={username:e.state.username,pwd:e.state.password};fetch("https://iot-display.herokuapp.com/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(a){a.accepted?e.props.history.push("/home/".concat(a.session)):alert("username already taken try again"),console.log(a)})).catch((function(e){alert("username already taken try again"),console.error("error",e)}))},e.signupHandlar=function(a){a.preventDefault();var t={username:e.state.username,pwd:e.state.password};fetch("https://iot-display.herokuapp.com/login/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(a){a.accepted?(alert("successfuly created account"),e.closePopup()):alert("username already taken try again"),console.log(a)})).catch((function(e){alert("username already taken try again"),console.error("error",e)}))},e}return Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"innerbox"},s.a.createElement("form",{className:"username",onSubmit:this.handleLogin},s.a.createElement("input",{onChange:this.handleUsernameChange,value:this.state.username,placeholder:"Enter username",type:"text"}),s.a.createElement("input",{onChange:this.handlePasswordChange,value:this.state.password,placeholder:"Enter passowrd...",type:"password"}),s.a.createElement("div",null,s.a.createElement("button",{className:"tbtn",onClick:this.handleLogin},"SIGN IN")),s.a.createElement("button",{className:"tbtn",onClick:this.displayPopup},"Sign up")),s.a.createElement(A,{username:this.state.username,password:this.state.password,closePopup:this.closePopup,handleUsernameChange:this.handleUsernameChange,handlePasswordChange:this.handlePasswordChange,signupHandlar:this.signupHandlar}))}}]),t}(n.Component)),J=function(e){Object(u.a)(t,e);var a=Object(c.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=a.call.apply(a,[this].concat(s))).state={},e}return Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement(p.a,null,s.a.createElement(D,null),s.a.createElement(L,null),s.a.createElement(m.a,{exact:!0,path:"/",component:H}),s.a.createElement(m.a,{exact:!0,path:"/home/:session",component:C}),s.a.createElement(m.a,{path:"/about",component:E}),s.a.createElement(m.a,{path:"/message/:selectedDisplay",component:b}))}}]),t}(n.Component);t(71);l.a.render(s.a.createElement(s.a.Fragment,null,s.a.createElement(J,null)),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.562d46cb.chunk.js.map